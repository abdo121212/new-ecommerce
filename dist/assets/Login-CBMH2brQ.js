import{r as l,U as w,b as y,j as e,L as b,y as o,a as N}from"./index-C-DsA9f1.js";import{f as L,B as v}from"./favicon-BrBRx3m1.js";import{c as k,a as c,u as F}from"./index.esm-zijc4Q6R.js";import{H as S}from"./Helmet-OhDTjJ-I.js";import"./animation-DWrC6HEj.js";const U=()=>{const{setToken:m}=l.useContext(w),[d,i]=l.useState(!1),x={email:"",password:""},p=y(),u=a=>{g(a)},h=k({email:c().email().required(),password:c().required()}),{errors:t,getFieldProps:r,touched:n,handleSubmit:f}=F({initialValues:x,onSubmit:u,validationSchema:h});async function g(a){const j=o.loading("Logging in... Please wait.",{position:"bottom-right"});try{i(!0);const{data:s}=await N.post("https://ecommerce.routemisr.com/api/v1/auth/signin",a);s.message==="success"&&(o.success("Login successful! Redirecting to home page...",{position:"bottom-right"}),m(s.token),localStorage.setItem("token",s.token),setTimeout(()=>{p("/")},1e3))}catch(s){o.error(s.response.data.message),i(!1)}finally{o.dismiss(j)}}return e.jsxs(e.Fragment,{children:[e.jsxs(S,{children:[e.jsx("title",{children:"Login - Freshcart"}),e.jsx("meta",{name:"description",content:"Login to your Freshcart account to access your shopping cart, wishlist, and order history."}),e.jsx("meta",{name:"keywords",content:"Login, Freshcart, User Account, Shopping, Online Store"}),e.jsx("meta",{property:"og:title",content:"Login - Freshcart"}),e.jsx("meta",{property:"og:description",content:"Login to your Freshcart account to access your shopping cart and more!"})]}),e.jsx("section",{className:"h-[100vh] w-full flex justify-center items-center -mt-12",children:e.jsx("div",{className:" min-h-[500px] w-full sm:w-3/4  shadow-2xl lg:w-1/3 bg-slate-50 p-3 rounded-lg ",children:e.jsxs("div",{className:"flex flex-col space-y-5 items-center justify-center p-2",children:[e.jsx("img",{src:L,alt:"",width:100}),e.jsx("h2",{className:"font-bold  text-xl sm:text-3xl",children:"Welcome Back"}),e.jsx("p",{className:"font-medium pb-6 text-sm text-slate-400 ",children:"Please enter your details"}),e.jsxs("form",{onSubmit:f,className:"space-y-5  w-full mx-auto  text-xl flex flex-col  items-center justify-center",children:[e.jsxs("div",{className:"flex flex-col  items-center justify-center w-full ",children:[e.jsx("input",{type:"email",className:"border-b-2  px-3 p-2 w-[90%] outline-0 border-main rounded-b-xl",placeholder:"Email",name:"email",...r("email"),id:"email"}),n.email&&t.email?e.jsx("div",{className:"text-red-600",children:t.email}):null]}),e.jsxs("div",{className:"flex flex-col  items-center  w-full ",children:[e.jsx("input",{type:"password",className:"border-b-2  px-3 p-2 w-[90%] outline-0 border-main rounded-b-xl",placeholder:"password",name:"password",id:"password",...r("password")}),n.password&&t.password?e.jsx("div",{className:"text-red-600",children:t.password}):null]}),e.jsx("button",{type:"submit",className:"bg-main w-[70%] px-2 py-2 rounded-lg text-white hover:bg-green-700 duration-150 text-xl",children:d?e.jsx(v,{color:"#ffff"}):"Login"}),e.jsxs("h4",{className:"font-medium",children:["if new to fresh cart ?",e.jsx(b,{to:"/signup",className:"text-main ml-2 font-semibold",children:"Join now"})]})]})]})})})]})};export{U as default};
